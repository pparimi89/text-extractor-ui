
 <div class="main">
  <div class="drop-down">
    <p-dropdown 
    [options]="categoryList" 
    optionLabel="name" 
    optionValue="code"
    [showClear]="true"
    [filter]="true" 
    filterBy="name" 
    [appendTo]="'body'"
    (onChange)="onCategoryChange($event)"
    placeholder="Select a category" />
  </div>

  <div class="card upload-container">
    <!-- Header Buttons -->
    <div class="upload-header">
      <button class="btn btn-primary"  (click)="chooseFiles()">Choose files</button>
      <button class="btn btn-success" (click)="uploadFiles()" [disabled]="files.length === 0">Upload File</button>
      <button class="btn btn-danger" (click)="clearFiles()" [disabled]="files.length === 0">Clear all</button>
    </div>
  
    <!-- progress bar -->
    <div class="progress mb-3" *ngIf="uploadProgress > 0">
      <div 
        class="progress-bar" 
        role="progressbar" 
        [style.width.%]="uploadProgress" 
        [attr.aria-valuenow]="uploadProgress" 
        aria-valuemin="0" 
        aria-valuemax="100"
      >
        {{ uploadProgress }}%
        {{uploadProgress==100 ? " Completed" : " Uploading"}}
      </div>
    </div>
  
    <!-- Dropzone -->
    <div
      class="upload-dropzone"
      (dragover)="handleDragOver($event)"
      (drop)="handleDrop($event)"
    >
      <div class="drop-icon">
        <i style="font-size: 5rem" class="pi pi-cloud-upload"></i>
      </div>
      <p>Drag and drop files here to upload.</p>
    </div>
  
    <!-- File Preview -->
    <div class="file-preview">
      <div *ngFor="let file of files" class="file-preview-item">
        <img *ngIf="file.type.startsWith('image')" [src]="file.previewUrl" [alt]="file.name" />
        <span *ngIf="file.type === 'application/pdf'">{{ file.name }}</span>
        <i style="font-size: 1rem;color: red;" (click)="removeFile(file)" class="pi pi-trash"></i>

      </div>
    </div>
  </div>
 </div>

 <p-confirmDialog [position]="'top'" />


 <div class="mt-3 mb-4">
  <div class="card w-75 m-auto">
    <p-table [value]="tableData" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr>
                <th>Code</th>
                <!-- <th>User Name</th> -->
                <th>Category</th>
                <th>Amount</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
            <tr>
                <td>{{ product.id }}</td>
                <!-- <td>{{ product.name }}</td> -->
                <td>{{ product.category }}</td>
                <td>{{ product.fileAmount }}</td>
            </tr>
        </ng-template>
    </p-table>
  </div>
 </div>
 